@import "tailwindcss";
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --font-sans: "Segoe UI", -apple-system, BlinkMacSystemFont, "Roboto", "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  --font-mono: "SF Mono", "Segoe UI Mono", "Roboto Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --color-bgColor: var(--theme-bg);
  --color-textColor: var(--theme-text);
  --color-link: var(--theme-link);
  --color-accent: var(--theme-accent);
  --color-accent-2: var(--theme-accent-2);
  --color-quote: var(--theme-quote);
  --color-ngray-txt-light: #787774;
  --color-ngray-txt-dark: #9B9B9B;
  --color-ngray-bg-light: #F1F1EF;
  --color-ngray-bg-dark: #2F2F2F;
  --color-ngray-bg-tag-light: #E3E2E0;
  --color-ngray-bg-tag-dark: #5A5A5A;
  --color-ngray-table-header-bg-light: #F7F6F3;
  --color-ngray-table-header-bg-dark: #FFFFFF;
  --color-ngray-callout-border-light: #DFDFDE;
  --color-ngray-callout-border-dark: #373737;
  --color-nlgray-bg-tag-light: #F1F1F0;
  --color-nlgray-bg-tag-dark: #373737;
  --color-nbrown-txt-light: #9F6B53;
  --color-nbrown-txt-dark: #BA856F;
  --color-nbrown-bg-light: #F4EEEE;
  --color-nbrown-bg-dark: #4A3228;
  --color-nbrown-bg-tag-light: #EEE0DA;
  --color-nbrown-bg-tag-dark: #603B2C;
  --color-norange-txt-light: #D9730D;
  --color-norange-txt-dark: #C77D48;
  --color-norange-bg-light: #FBECDD;
  --color-norange-bg-dark: #5C3B23;
  --color-norange-bg-tag-light: #FADEC9;
  --color-norange-bg-tag-dark: #854C1D;
  --color-nyellow-txt-light: #CB912F;
  --color-nyellow-txt-dark: #CA9849;
  --color-nyellow-bg-light: #FBEDD6;
  --color-nyellow-bg-dark: #56452F;
  --color-nyellow-bg-tag-light: #F9E4BC;
  --color-nyellow-bg-tag-dark: #835E33;
  --color-ngreen-txt-light: #448361;
  --color-ngreen-txt-dark: #529E72;
  --color-ngreen-bg-light: #EDF3EC;
  --color-ngreen-bg-dark: #243D30;
  --color-ngreen-bg-tag-light: #DBEDDB;
  --color-ngreen-bg-tag-dark: #2B593F;
  --color-nblue-txt-light: #337EA9;
  --color-nblue-txt-dark: #5E87C9;
  --color-nblue-bg-light: #E7F3F8;
  --color-nblue-bg-dark: #143A4E;
  --color-nblue-bg-tag-light: #D3E5EF;
  --color-nblue-bg-tag-dark: #28456C;
  --color-npurple-txt-light: #9065B0;
  --color-npurple-txt-dark: #9D68D3;
  --color-npurple-bg-light: #F7F3F8;
  --color-npurple-bg-dark: #3C2D49;
  --color-npurple-bg-tag-light: #E8DEEE;
  --color-npurple-bg-tag-dark: #492F64;
  --color-npink-txt-light: #C14C8A;
  --color-npink-txt-dark: #9D68D3;
  --color-npink-bg-light: #FBF2F5;
  --color-npink-bg-dark: #4E2C3C;
  --color-npink-bg-tag-light: #F5E0E9;
  --color-npink-bg-tag-dark: #69314C;
  --color-nred-txt-light: #D44C47;
  --color-nred-txt-dark: #DF5452;
  --color-nred-bg-light: #FDEBEC;
  --color-nred-bg-dark: #522E2A;
  --color-nred-bg-tag-light: #FFE2DD;
  --color-nred-bg-tag-dark: #6E3630;

}

@layer base {
  :root {
    color-scheme: light;
    --theme-bg: #fafafa;
    --theme-text: #1a1a1a;
    --theme-link: #4a5568;
    --theme-accent: #cb2941;
    --theme-accent-2: #0a0a0a;
    --theme-quote: #cb2941;

  }

  :root.dark {
    color-scheme: dark;
    --theme-bg: #1a1a1a;
    --theme-text: #f5f5f5;
    --theme-link: #a0a0a0;
    --theme-accent: #29bc88;
    --theme-accent-2: #e5e5e5;
    --theme-quote: #cdfeb7;

  }

  html {
    @apply scroll-smooth;
    font-size: 15px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;

    @variant sm {
      font-size: 16px;
    }
  }

  html body {
    @apply mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-8 pt-8 text-textColor antialiased overflow-x-hidden;
    animation: fadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    letter-spacing: -0.011em;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  * {
    @apply scroll-mt-10;
  }

  a, button, .btn, .experience-item, .publication-item, .section-container {
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
  }

  pre {
    @apply rounded-md p-4 font-mono;
  }

  /* Common styles for pre elements */
  pre.has-diff,
  pre.has-focused,
  pre.has-highlighted,
  pre.has-diff code,
  pre.has-focused code,
  pre.has-highlighted code {
    @apply inline-block min-w-full;
  }

  /* Styles for diff lines */
  pre.has-diff .line.diff,
  pre.has-highlighted .line.highlighted.error,
  pre.has-highlighted .line.highlighted.warning {
    @apply inline-block w-max min-w-[calc(100%+2rem)] -ml-8 pl-8 pr-4 box-border relative z-0;
  }

  pre.has-diff .line.diff::before {
    @apply content-[''] absolute left-4 top-0 bottom-0 w-4 flex items-center justify-center text-gray-400;
  }

  pre.has-diff .line.diff.remove {
    @apply bg-red-500/20;
  }

  pre.has-diff .line.diff.remove::before {
    @apply content-['-'];
  }

  pre.has-diff .line.diff.add {
    @apply bg-blue-500/20;
  }

  pre.has-diff .line.diff.add::before {
    @apply content-['+'];
  }

  /* Styles for focused lines */
  pre.has-focused .line {
    @apply inline-block w-max min-w-[calc(100%+2rem)] -ml-4 pl-4 pr-4 box-border transition-all duration-300 ease-in-out;
  }

  pre.has-focused .line:not(.focused) {
    @apply blur-[1px] opacity-50;
  }

  pre.has-focused:hover .line:not(.focused) {
    @apply blur-none opacity-100;
  }

  /* Styles for highlighted lines */
  pre.has-highlighted .line.highlighted {
    @apply inline-block w-max min-w-[calc(100%+2rem)] -ml-4 pl-4 pr-4 box-border bg-gray-500/20;
  }

  /* Styles for highlighted words */
  .highlighted-word {
    @apply bg-gray-500/20 rounded px-1 -mx-[2px];
  }

  pre.has-highlighted .line.highlighted.error::before,
  pre.has-highlighted .line.highlighted.warning::before {
    @apply content-[''] absolute left-4 top-0 bottom-0 w-4 flex items-center justify-center text-gray-400;
  }

  pre.has-highlighted .line.highlighted.error {
    @apply bg-red-500/30;
  }

  pre.has-highlighted .line.highlighted.error::before {
    @apply content-['x'];
  }

  pre.has-highlighted .line.highlighted.warning {
    @apply bg-yellow-500/20;
  }

  pre.has-highlighted .line.highlighted.warning::before {
    @apply content-['!'];
  }
}

@layer components {
  .site-page-link {
    @apply underline decoration-wavy decoration-from-font decoration-accent-2/20 hover:decoration-accent-2/40 underline-offset-2 hover:underline;
  }

  .title {
    @apply text-3xl font-bold text-accent-2;
  }
}

@utility transition-height {
  transition-property: height;
}