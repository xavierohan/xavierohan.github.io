document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('.prose .publication-meta a[href^="http"]').forEach(t=>{const n=t.getAttribute("href");if(!n||n==="#")return;const e=document.createElement("div");e.className="link-preview-container";const s=document.createElement("div");s.className="preview-header",s.textContent=n;const a=document.createElement("div");a.className="preview-content";const o=document.createElement("iframe");o.src=n,o.loading="lazy",o.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups allow-forms allow-top-navigation"),o.style.overflow="auto",a.appendChild(o),e.appendChild(s),e.appendChild(a),t.parentNode.insertBefore(e,t.nextSibling);let r,i;const l=()=>{clearTimeout(i),clearTimeout(r),r=setTimeout(()=>{e.style.opacity="1",e.style.pointerEvents="auto",e.style.background=document.documentElement.classList.contains("dark")?"#1c1e20":"#ffffff"},300)},c=()=>{clearTimeout(r),i=setTimeout(()=>{e.style.opacity="0",e.style.pointerEvents="none"},100)};t.addEventListener("mouseenter",l),t.addEventListener("mouseleave",c),e.addEventListener("mouseenter",l),e.addEventListener("mouseleave",c)})});(function(){(localStorage.getItem("solidjs-use-color-scheme")||"auto")==="dark"&&document.documentElement.classList.toggle("dark",!0)})();
