import{$,l as ne,m as le,n as H,c as p,p as L,q as ve,u as N,v as ae,o as z,w as I,b as V,x as we,g as R,i as ue,y as _e,t as X,a as $e,j as ye,e as Oe,z as Se,d as K}from"./web.e14c6c7c.js";const Y=Symbol("store-raw"),M=Symbol("store-node");function fe(e){let t;return e!=null&&typeof e=="object"&&(e[$]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function F(e,t=new Set){let n,o,r,s;if(n=e!=null&&e[Y])return n;if(!fe(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let i=0,c=e.length;i<c;i++)r=e[i],(o=F(r,t))!==r&&(e[i]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const i=Object.keys(e),c=Object.getOwnPropertyDescriptors(e);for(let l=0,u=i.length;l<u;l++)s=i[l],!c[s].get&&(r=e[s],(o=F(r,t))!==r&&(e[s]=o))}return e}function B(e){let t=e[M];return t||Object.defineProperty(e,M,{value:t=Object.create(null)}),t}function q(e,t,n){return e[t]||(e[t]=he(n))}function de(e){if(le()){const t=B(e);(t._||(t._=he()))()}}function xe(e){return de(e),Reflect.ownKeys(e)}function he(e){const[t,n]=p(e,{equals:!1,internal:!0});return t.$=n,t}function oe(e,t,n,o=!1){if(!o&&e[t]===n)return;const r=e[t],s=e.length;n===void 0?delete e[t]:e[t]=n;let i=B(e),c;if((c=q(i,t,r))&&c.$(()=>n),Array.isArray(e)&&e.length!==s){for(let l=e.length;l<s;l++)(c=i[l])&&c.$();(c=q(i,"length",s))&&c.$(e.length)}(c=i._)&&c.$()}function je(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||n.set||!n.configurable||t===$||t===M||(delete n.value,delete n.writable,n.get=()=>e[$][t],n.set=o=>e[$][t]=o),n}const Te={get(e,t,n){if(t===Y)return e;if(t===$)return n;if(t===ne)return de(e),n;const o=B(e),r=o[t];let s=r?r():e[t];if(t===M||t==="__proto__")return s;if(!r){const i=Object.getOwnPropertyDescriptor(e,t),c=typeof s=="function";if(le()&&(!c||e.hasOwnProperty(t))&&!(i&&i.get))s=q(o,t,s)();else if(s!=null&&c&&s===Array.prototype[t])return(...l)=>H(()=>Array.prototype[t].apply(n,l))}return fe(s)?ge(s):s},has(e,t){return t===Y||t===$||t===ne||t===M||t==="__proto__"?!0:(this.get(e,t,e),t in e)},set(e,t,n){return H(()=>oe(e,t,F(n))),!0},deleteProperty(e,t){return H(()=>oe(e,t,void 0,!0)),!0},ownKeys:xe,getOwnPropertyDescriptor:je};function ge(e){let t=e[$];if(!t){Object.defineProperty(e,$,{value:t=new Proxy(e,Te)});const n=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let r=0,s=n.length;r<s;r++){const i=n[r];if(o[i].get){const c=o[i].get.bind(t);Object.defineProperty(e,i,{get:c})}if(o[i].set){const c=o[i].set;Object.defineProperty(e,i,{set:u=>H(()=>c.call(t,u))})}}}return t}function re(e,t){const n=F(e||{});return ge(n)}function se(e){return[e.get,e.set]}const ie=Promise.resolve();function Ee(e){return e?ie.then(this?e.bind(this):e):ie}function me(e){return typeof e=="function"}function w(e){return typeof e=="function"?e():e}const Ae=typeof window<"u",Pe=Object.prototype.toString,De=e=>Pe.call(e)==="[object Object]",O=()=>{};function be(e,t){function n(...o){return new Promise((r,s)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(s)})}return n}function Me(e,t={}){let n,o,r=O;const s=l=>{clearTimeout(l),r(),r=O},i=L();return l=>{const u=w(e),a=w(t.maxWait);return n&&s(n),u<=0||a!==void 0&&a<=0?(o&&(s(o),o=null),new Promise(d=>{I(i,()=>{d(l())})})):new Promise((d,m)=>{r=t.rejectOnCancel?m:d,a&&!o&&(o=setTimeout(()=>{n&&s(n),o=null,d(l())},a)),n=setTimeout(()=>{o&&s(o),o=null,d(l())},u)})}}function Le(e,t=!0,n=!0,o=!1){let r=0,s,i=!0,c=O,l;const u=L(),a=()=>{s&&(clearTimeout(s),s=void 0,c(),c=O)};return m=>{const g=w(e),S=Date.now()-r,_=()=>l=m();if(a(),g<=0){r=Date.now(),I(u,()=>{_()});return}return S>g&&(n||!i)?(r=Date.now(),I(u,()=>{_()})):t&&(l=new Promise((x,j)=>{c=o?j:x,s=setTimeout(()=>{r=Date.now(),i=!0,I(u,()=>{x(_())}),a()},Math.max(0,g-S))})),!n&&!s&&(s=setTimeout(()=>i=!0,g)),i=!1,l}}function We(e,t=200,n={}){return be(Me(t,n),e)}function ke(e,t=200,n=!1,o=!0,r=!1){return be(Le(t,n,o,r),e)}function pe(e){return L()?(ve(e),!0):!1}function Ce(e,t){const n={};return Object.keys(e).forEach(o=>{n[o]=V(()=>e[o]??t?.[o])}),n}function He(e,t,n){const[o,r]=p(!0);return N(ae(Ie(e),(i,c,l)=>{o()&&t(i,c,l)},n)),()=>{r(!1)}}function Ie(e){return Array.isArray(e)?e:De(e)?Object.values(Ce(e)):me(e)?e:()=>e}function Re(e){return me(e)?e:()=>e}function Fe(e,t=!0){L()?z(e):t?e():Ee(e)}const G=Ae?window:void 0;function Q(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=G):[t,n,o,r]=e,!t)return O;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const s=[],i=()=>{s.forEach(a=>a()),s.length=0},c=(a,d,m,g)=>(a.addEventListener(d,m,g),()=>a.removeEventListener(d,m,g)),l=He(()=>[w(t),w(r)],([a,d])=>{i(),a&&s.push(...n.flatMap(m=>o.map(g=>c(a,m,g,d))))}),u=()=>{l(),i()};return pe(u),u}function Ne(){const[e,t]=p(!1);return L()&&z(()=>{t(!0)}),e}function ze(e){const t=Ne();return V(()=>(t(),!!e()))}function Ve(e,t={}){const{window:n=G}=t,o=ze(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const[s,i]=p(!1),c=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",l):r.removeListener(l))},l=()=>{o()&&(c(),r=n.matchMedia(Re(e)()),i(!!r?.matches),r&&("addEventListener"in r?r.addEventListener("change",l):r.addListener(l)))};return N(l),pe(()=>c()),s}const ce=1;function Xe(e,t={}){const{throttle:n=0,idle:o=200,onStop:r=O,onScroll:s=O,offset:i={left:0,right:0,top:0,bottom:0},eventListenerOptions:c={capture:!1,passive:!0},behavior:l="auto"}=t,[u,a]=p(0),[d,m]=p(0),[g,S]=se({get(){return u()},set(f){j(f,void 0)}}),[_,x]=se({get(){return d()},set(f){j(void 0,f)}});function j(f,v){var P;const T=w(e);T&&((P=T instanceof Document?document.body:T)==null||P.scrollTo({top:w(v)??_(),left:w(f)??g(),behavior:w(l)}))}const[W,k]=p(!1),b=re({left:!0,right:!1,top:!0,bottom:!1}),h=re({left:!1,right:!1,top:!1,bottom:!1}),E=f=>{W()&&(k(!1),h.left=!1,h.right=!1,h.top=!1,h.bottom=!1,r(f))},C=We(E,n+o),A=f=>{const v=f===window?f.document.documentElement:f===document?f.documentElement:f,{display:P,flexDirection:T}=getComputedStyle(v),D=v.scrollLeft;h.left=D<u(),h.right=D>u();const U=Math.abs(D)<=0+(i.left??0),Z=Math.abs(D)+v.clientWidth>=v.scrollWidth-(i.right??0)-ce;P==="flex"&&T==="row-reverse"?(b.left=Z,b.right=U):(b.left=U,b.right=Z),a(D);let y=v.scrollTop;f===document&&!y&&(y=document.body.scrollTop),h.top=y<d(),h.bottom=y>d();const ee=Math.abs(y)<=0+(i.top??0),te=Math.abs(y)+v.clientHeight>=v.scrollHeight-(i.bottom??0)-ce;P==="flex"&&T==="column-reverse"?(b.top=te,b.bottom=ee):(b.top=ee,b.bottom=te),m(y)},J=f=>{const v=f.target===document?f.target.documentElement:f.target;A(v),k(!0),C(f),s(f)};return Q(e,"scroll",n?ke(J,n,!0,!1):J,c),Q(e,"scrollend",E,c),{x:g,setX:S,y:_,setY:x,isScrolling:W,arrivedState:b,directions:h,measure(){const f=w(e);f&&A(f)}}}function Ke(e={}){const{window:t=G,initialWidth:n=1/0,initialHeight:o=1/0,listenOrientation:r=!0,includeScrollbar:s=!0}=e,[i,c]=p(n),[l,u]=p(o),a=()=>{t&&(s?(c(t.innerWidth),u(t.innerHeight)):(c(t.document.documentElement.clientWidth),u(t.document.documentElement.clientHeight)))};if(a(),Fe(a),Q("resize",a,{passive:!0}),r){const d=Ve("(orientation: portrait)");N(ae(d,()=>{a()}))}return{width:i,height:l}}const Ye=X('<button class="nav-item ml-4" title="Toggle toc">'),qe=X("<div i-ri:menu-3-line>"),Qe=X("<div i-ri:menu-fold-line>"),Be=()=>{const{width:e}=Ke(),[t,n]=p(e()>1200),o=()=>{n(!t()),r()},r=()=>{const s=document.querySelector("html");t()?s.classList.add("toc-open"):s.classList.remove("toc-open")};return z(r),(()=>{const s=R(Ye);return s.$$click=o,ue(s,(()=>{const i=V(()=>!!t());return()=>i()?R(qe):R(Qe)})()),_e(),s})()};we(["click"]);const Ge=X('<header><a font-bold text="c-light hover:c-dark" href="/"><span text-lg>Home</span><div i-fa6-solid:angle-right class="prompt inline-block"></div></a><nav hstack space-x-4><a nav-item href="/projects" title="Projects"><div i-ph:flask-duotone class="md:hidden"></div>  <span>Projects</span></a><a nav-item href="/writings" title="Writings"><div i-ph:pencil-duotone class="md:hidden"></div>  <span>Writings</span></a><!#><!/>'),Ue=e=>{const[t,n]=p(!1),[o,r]=p(!1);let s;return z(()=>{const{y:i,directions:c}=Xe(document);N(()=>{c.top?i()>0&&t()?r(!0):(r(!1),n(!1)):c.bottom&&(r(!1),s&&i()>s.offsetHeight&&n(!0))})}),(()=>{const i=R(Ge),c=i.firstChild,l=c.nextSibling,u=l.firstChild,a=u.firstChild,d=a.nextSibling,m=d.nextSibling,g=u.nextSibling,S=g.firstChild,_=S.nextSibling,x=_.nextSibling,j=g.nextSibling,[W,k]=$e(j.nextSibling),b=s;return typeof b=="function"?Se(b,i):s=i,ue(l,(()=>{const h=V(()=>!!e.hasToc);return()=>h()&&ye(Be,{})})(),W,k),Oe(h=>{const E=`z-30 w-full h-14 hstack justify-between bg-c font-ui px-4 md:px-5 ${t()&&"fixed -top-14 left-0 transition duration-300 border-b border-c"} ${o()&&"translate-y-full shadow-nav"} ${!t()&&!o()&&"absolute top-0 left-0"}`,C=`${e.activePage==="projects"?"text-active":""}`,A=`lt-md:hidden ${e.activePage==="writings"?"text-active":""}`;return E!==h._v$&&K(i,h._v$=E),C!==h._v$2&&K(m,h._v$2=C),A!==h._v$3&&K(x,h._v$3=A),h},{_v$:void 0,_v$2:void 0,_v$3:void 0}),i})()};export{Ue as default};
